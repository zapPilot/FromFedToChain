{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "From Fed to Chain Content Schema",
  "description": "Multi-language content schema for crypto/macro explainer content",
  "type": "object",
  "required": ["id", "date", "category", "languages", "metadata"],
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique identifier (YYYY-MM-DD-topic-slug)",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}-.+$"
    },
    "date": {
      "type": "string",
      "format": "date",
      "description": "Content creation date (YYYY-MM-DD)"
    },
    "category": {
      "type": "string",
      "enum": ["daily-news", "ethereum", "macro"],
      "description": "Content category"
    },
    "references": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Source references (language-agnostic)"
    },
    "language": {
      "type": "object",
      "description": "Language-specific content",
      "patternProperties": {
        "^(zh-TW|en|ja|ko|es|fr|de)$": {
          "type": "object",
          "required": ["title", "content"],
          "properties": {
            "title": {
              "type": "string",
              "description": "Content title in this language"
            },
            "content": {
              "type": "string",
              "description": "Main content (clean text for TTS)"
            },
            "social_hook": {
              "type": "object",
              "description": "Social media hook generation (English only)",
              "properties": {
                "primary": {
                  "type": "string",
                  "description": "Main hook for social media"
                },
                "variations": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Alternative hook variations"
                },
                "platform_optimized": {
                  "type": "object",
                  "description": "Platform-specific hook optimization",
                  "properties": {
                    "twitter": {
                      "type": "string",
                      "description": "Twitter-optimized hook"
                    },
                    "linkedin": {
                      "type": "string",
                      "description": "LinkedIn-optimized hook"
                    },
                    "facebook": {
                      "type": "string",
                      "description": "Facebook-optimized hook"
                    }
                  }
                },
                "insights_used": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Key insights extracted for hook generation"
                }
              }
            }
          }
        }
      }
    },
    "metadata": {
      "type": "object",
      "required": ["translation_status", "tts"],
      "properties": {
        "translation_status": {
          "type": "object",
          "description": "Translation workflow status",
          "properties": {
            "source_reviewed": {
              "type": "boolean",
              "default": false
            },
            "rejection": {
              "type": "object",
              "description": "Rejection status and reason for content review workflow",
              "properties": {
                "rejected": { "type": "boolean", "default": false },
                "reason": { "type": "string" },
                "reviewer": { "type": "string" },
                "timestamp": { "type": "string", "format": "date-time" }
              }
            }
          }
        },
        "tts": {
          "type": "object",
          "description": "TTS processing status per language",
          "patternProperties": {
            "^(zh-TW|en|ja|ko|es|fr|de)$": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "string",
                  "enum": ["pending", "processing", "completed", "failed"],
                  "default": "pending"
                },
                "audio_url": {
                  "type": ["string", "null"],
                  "description": "Google Drive URL for generated audio"
                },
                "voice_config": {
                  "type": "object",
                  "properties": {
                    "languageCode": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "created_at": {
          "type": "string",
          "format": "date-time"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time"
        }
      }
    }
  }
}
