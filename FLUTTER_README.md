# Flutter Audio Player for From Fed to Chain

A modern Flutter web/mobile application for browsing and playing TTS audio content generated by the From Fed to Chain CLI pipeline.

## Features

### 🎵 Audio Player

- **Multi-language support**: Browse content in Traditional Chinese (zh-TW), English (en-US), and Japanese (ja-JP)
- **Category filtering**: Filter by Daily News, Ethereum, Macro, and Startup content
- **Modern audio controls**: Play/pause, seek, skip forward/backward (15s), playback speed control
- **Progress tracking**: Visual progress bars and time display
- **Mini player**: Persistent player controls at the bottom of the screen

### 🎨 Design

- **Dark theme**: Matches the landing page design with gray-950 background
- **Gradient effects**: Purple/blue gradients inspired by the landing page
- **Animated background**: Floating gradient blobs with smooth animations
- **Responsive design**: Works seamlessly on web, mobile, and tablet

### 🔍 Content Management

- **Real-time filtering**: Search by title, content, or ID
- **Smart organization**: Content organized by language and category
- **Metadata display**: File size, duration, creation date, and content details
- **Audio file browser**: Easy navigation through the TTS audio library

## Project Structure

```
lib/
├── main.dart                 # App entry point
├── models/                   # Data models
│   ├── audio_content.dart    # Content metadata model
│   └── audio_file.dart       # Audio file model
├── screens/                  # App screens
│   └── home_screen.dart      # Main screen
├── services/                 # Business logic
│   ├── audio_service.dart    # Audio playback service
│   └── content_service.dart  # Content loading service
├── themes/                   # App theming
│   └── app_theme.dart        # Dark theme configuration
└── widgets/                  # UI components
    ├── animated_background.dart
    ├── audio_item_card.dart
    ├── audio_list.dart
    ├── filter_bar.dart
    └── mini_player.dart
```

## Integration with CLI

This Flutter app works alongside the existing Node.js CLI without conflicts:

### Coexisting Package Management

- **Node.js CLI**: Uses `package.json` for Node.js dependencies
- **Flutter App**: Uses `pubspec.yaml` for Dart/Flutter dependencies
- Both can coexist in the same directory structure

### Shared Resources

- **Audio files**: Flutter app reads from the existing `audio/` directory
- **Content files**: Flutter app reads metadata from `content/` JSON files
- **No interference**: Flutter app is read-only and doesn't modify CLI files

### Workflow Integration

1. **Create content**: Use existing CLI workflow (`npm run review`, `npm run pipeline`)
2. **Generate audio**: CLI produces TTS files in `audio/` directory
3. **Browse & play**: Flutter app provides modern interface for audio content

## Dependencies

### Core Dependencies

- `audioplayers`: Audio playback functionality
- `provider`: State management
- `path`: File path utilities

### UI Dependencies

- `flutter_staggered_animations`: Smooth list animations
- `shimmer`: Loading state animations
- `heroicons`: Icon library

## Development

### Prerequisites

- Flutter SDK 3.10.0+
- Dart SDK 3.0.0+

### Running the App

```bash
# Web development
flutter run -d chrome

# Mobile development
flutter run

# Build for web
flutter build web

# Build for mobile
flutter build apk  # Android
flutter build ios  # iOS
```

### Directory Structure

The app expects the following directory structure (automatically created by the CLI):

```
audio/
├── en-US/
│   ├── daily-news/
│   ├── ethereum/
│   ├── macro/
│   └── startup/
├── ja-JP/
│   └── ...
└── zh-TW/
    └── ...

content/
├── en-US/
│   ├── daily-news/
│   ├── ethereum/
│   ├── macro/
│   └── startup/
├── ja-JP/
│   └── ...
└── zh-TW/
    └── ...
```

## Configuration

### Audio Settings

- Supported formats: WAV files (generated by Google TTS)
- Playback speeds: 0.5x, 0.75x, 1x, 1.25x, 1.5x, 2x
- Skip intervals: 15 seconds forward/backward

### Content Settings

- Languages: zh-TW (Traditional Chinese), en-US (English), ja-JP (Japanese)
- Categories: daily-news, ethereum, macro, startup
- File naming: `YYYY-MM-DD-article-id.json` and `YYYY-MM-DD-article-id.wav`

## Platform Support

### Web

- Modern browsers with Web Audio API support
- PWA capabilities with manifest.json
- Responsive design for desktop and mobile browsers

### Mobile

- Android 5.0+ (API level 21+)
- iOS 11.0+
- Native audio playback performance

### Features by Platform

| Feature         | Web     | Android | iOS |
| --------------- | ------- | ------- | --- |
| Audio Playback  | ✅      | ✅      | ✅  |
| File Browser    | ✅      | ✅      | ✅  |
| Search/Filter   | ✅      | ✅      | ✅  |
| Background Play | Limited | ✅      | ✅  |
| PWA Install     | ✅      | ✅      | ✅  |

## Design System

### Colors (matching landing page)

- **Background**: `#030712` (gray-950)
- **Surface**: `#111827` (gray-900)
- **Primary**: `#8B5CF6` (purple-500)
- **Secondary**: `#3B82F6` (blue-500)
- **Accent**: `#EC4899` (pink-500)

### Typography

- Uses system fonts with fallbacks
- Consistent sizing scale
- High contrast for accessibility

### Animations

- Smooth transitions (200ms duration)
- Floating background elements
- Loading states with shimmer effects
- Staggered list animations

## Future Enhancements

### Planned Features

- [ ] Playlist creation and management
- [ ] Offline audio caching
- [ ] Audio visualization (waveforms)
- [ ] Social sharing integration
- [ ] Content recommendations
- [ ] Export/download functionality

### Performance Optimizations

- [ ] Lazy loading for large audio libraries
- [ ] Audio streaming for large files
- [ ] Image optimization and caching
- [ ] Bundle size optimization

## Troubleshooting

### Common Issues

**Audio not playing**

- Check if audio files exist in the `audio/` directory
- Verify file permissions
- Ensure browser supports Web Audio API (web)

**Content not loading**

- Verify `content/` directory structure
- Check JSON file formatting
- Ensure proper file permissions

**UI not responsive**

- Clear browser cache (web)
- Update Flutter SDK
- Check for console errors

## License

This Flutter app is part of the From Fed to Chain project and follows the same licensing terms.
